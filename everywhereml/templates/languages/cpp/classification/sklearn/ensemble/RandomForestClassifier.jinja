{% extends '../../BaseClassifier.jinja' %}

{% block predict %}
    uint16_t votes[{{ num_classes }}] = { 0 };

    {% for k, tree in enumerate(trees) %}
        votes[tree{{ k }}()] += 1;
    {% endfor %}

    {% include '../../partials/vote.jinja' %}
{% endblock %}

{% block protected %}

    {% for k, tree in enumerate(trees) %}
        {% with i = 0, left = tree['left'], right = tree['right'], features = tree['features'], thresholds = tree['thresholds'], classes = tree['classes'] %}
            /**
             * Random forest's tree #{{ k }}
             * @return predicted class
             */
            uint16_t tree{{ k }}() {
                {% include '../tree/tree.jinja' %}
            }
        {% endwith %}
    {% endfor %}

{% endblock %}